# منگو - اپلیکیشن مقایسه قیمت

اپلیکیشن وب مقایسه قیمت محصولات از فروشگاه‌های آنلاین مختلف با قابلیت اسکرپ خودکار.

## ویژگی‌ها

- 🛍️ **مدیریت فروشگاه‌ها**: افزودن و مدیریت فروشگاه‌های آنلاین
- 🔍 **اسکرپ خودکار**: استخراج محصولات و قیمت‌ها از وب‌سایت‌ها
- 💰 **مقایسه قیمت**: نمایش بهترین قیمت‌ها از فروشگاه‌های مختلف
- 📱 **رابط کاربری فارسی**: طراحی راستچین با فونت vazirmatn
- 🔗 **لینک مستقیم**: هدایت به فروشگاه اصلی برای خرید
- 📊 **جزئیات محصول**: نمایش مشخصات فنی و مقایسه دقیق

## تکنولوژی‌های استفاده شده

- **Frontend**: Next.js 15, React 19, TypeScript
- **Styling**: Tailwind CSS, Lucide React Icons
- **Database**: SQLite با Prisma ORM
- **Scraping**: Cheerio, Axios
- **UI Components**: Radix UI

## نصب و راه‌اندازی

### پیش‌نیازها
- Node.js 18 یا بالاتر
- npm یا yarn

### مراحل نصب

1. **کلون کردن پروژه**
```bash
git clone <repository-url>
cd mango
```

2. **نصب وابستگی‌ها**
```bash
npm install
```

3. **راه‌اندازی دیتابیس**
```bash
npx prisma migrate dev --name init
npx prisma generate
```

4. **اجرای پروژه**
```bash
npm run dev
```

پروژه در آدرس `http://localhost:3000` در دسترس خواهد بود.

## نحوه استفاده

### 1. افزودن فروشگاه
- به صفحه مدیریت (`/admin`) بروید
- نام فروشگاه و آدرس وب‌سایت را وارد کنید
- روی "افزودن فروشگاه" کلیک کنید

### 2. اسکرپ محصولات
- در صفحه مدیریت، فروشگاه مورد نظر را انتخاب کنید
- آدرس صفحه محصولات را وارد کنید
- روی "شروع اسکرپ" کلیک کنید

### 3. مشاهده و مقایسه
- محصولات در صفحه اصلی نمایش داده می‌شوند
- روی هر محصول کلیک کنید تا جزئیات و مقایسه قیمت‌ها را ببینید

## ساختار پروژه

```
src/
├── app/                    # صفحات Next.js
│   ├── admin/             # پنل مدیریت
│   ├── api/               # API routes
│   ├── product/           # صفحه جزئیات محصول
│   └── page.tsx           # صفحه اصلی
├── components/            # کامپوننت‌های React
│   └── ui/               # کامپوننت‌های رابط کاربری
├── lib/                  # ابزارها و تنظیمات
│   ├── prisma.ts         # کلاینت دیتابیس
│   └── utils.ts          # توابع کمکی
└── prisma/               # تنظیمات دیتابیس
    └── schema.prisma     # مدل‌های دیتابیس
```

## API Endpoints

- `GET /api/stores` - دریافت لیست فروشگاه‌ها
- `POST /api/stores` - افزودن فروشگاه جدید
- `POST /api/scrape` - اسکرپ محصولات از یک فروشگاه

## مدل‌های دیتابیس

### Store (فروشگاه)
- `id`: شناسه یکتا
- `name`: نام فروشگاه
- `baseUrl`: آدرس وب‌سایت
- `isActive`: وضعیت فعال/غیرفعال

### Product (محصول)
- `id`: شناسه یکتا
- `name`: نام محصول
- `description`: توضیحات
- `mainImage`: تصویر اصلی
- `specs`: مشخصات فنی (JSON)

### StoreOffer (پیشنهاد فروشگاه)
- `id`: شناسه یکتا
- `productId`: شناسه محصول
- `storeId`: شناسه فروشگاه
- `price`: قیمت فعلی
- `originalPrice`: قیمت اصلی
- `storeProductUrl`: لینک محصول در فروشگاه

## نکات مهم

- اسکرپ کردن بر اساس الگوهای عمومی HTML انجام می‌شود
- برای سایت‌های پیچیده‌تر ممکن است نیاز به تنظیمات اضافی باشد
- حداکثر 20 محصول در هر بار اسکرپ می‌شود
- قیمت‌ها به صورت خودکار به‌روزرسانی می‌شوند

## مشارکت

برای مشارکت در پروژه:
1. Fork کنید
2. برنچ جدید ایجاد کنید
3. تغییرات را commit کنید
4. Pull Request ارسال کنید

## لایسنس

این پروژه تحت لایسنس MIT منتشر شده است. 